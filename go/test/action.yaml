name: 'Test go project'
description: 'Sets up go and runs go tests'
runs:
  using: "composite"
  steps:
    - name: Install Go
      if: success()
      uses: actions/setup-go@v2
      with:
        go-version: 1.18.x
    - name: Run tests
      shell: bash
      run: go test ./... -v -covermode=count